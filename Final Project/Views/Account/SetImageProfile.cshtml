@{
    Layout = "/Views/Shared/_LoginLayout.cshtml";
    ViewData["Title"] = "Regester";
}
<!-- Cropper.js CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css">
<link href="~/css/setpicture.css" rel="stylesheet" />
<div class="col-md-8 col-lg-7 col-xl-6">
    <img src="https://img.freepik.com/free-vector/placeholder-concept-illustration_114360-4983.jpg"
         class="img-fluid" alt="Phone image">
</div>

<div class="col-md-7 col-lg-5 col-xl-5 offset-xl-1">
    <form id="step1" class="step active" method="post" enctype="multipart/form-data" asp-controller="Account" asp-action="Regester">
        <div class="text-center mb-4">
            <div class="d-inline-block position-relative" style="cursor: pointer !important;">
                <label for="imageInput" class="d-block m-0 p-0 position-relative" style="cursor:pointer;">
                    <div class="position-relative "
                         style="width: 150px; height: 150px; ">

                        <!-- Background Image -->
                        <div class="position-relative w-100 h-100">
                            <div id="finalImageContainer"  class="rounded-circle overflow-hidden position-relative d-flex justify-content-center align-items-center  w-100 h-100 " style="background-color:rgb(0,0,0,.5);">
                                    <svg id="svgIcon" xmlns="http://www.w3.org/2000/svg" width="50px" height="50px" viewBox="0 0 24 24" fill="none">
                                        <circle cx="12" cy="13" r="3" stroke="#1C274C" stroke-width="1.5" />
                                        <path d="M3.0001 12.9999C3.0001 10.191 2.99995 8.78673 3.67407 7.77783C3.96591 7.34107 4.34091 6.96607 4.77767 6.67423C5.78656 6.00011 7.19103 6.00011 9.99995 6.00011H14C16.8089 6.00011 18.2133 6.00011 19.2222 6.67423C19.659 6.96607 20.034 7.34107 20.3258 7.77783C21 8.78673 21.0001 10.191 21.0001 12.9999C21.0001 15.8088 21.0001 17.2133 20.326 18.2222C20.0341 18.6589 19.6591 19.0339 19.2224 19.3258C18.2135 19.9999 16.809 19.9999 14.0001 19.9999H10.0001C7.19117 19.9999 5.78671 19.9999 4.77782 19.3258C4.34106 19.0339 3.96605 18.6589 3.67422 18.2222C3.44239 17.8752 3.29028 17.4815 3.19049 16.9999" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                                        <path d="M18 10H17.5" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                                        <path d="M14.5 3.5H9.5" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                                    </svg>
                                <img id="finalImage" style="display:none;" src="~/1ffa54c7933a1af45171400f4dccbb52.png"
                                     class="w-100 h-100 object-fit-cover"
                                     >

                            </div>
                            <!-- Edit Icon -->
                            <div class="position-absolute bottom-0 flex align-center d-flex start-0 bg-white rounded-circle shadow p-2 m-2"
                                 style="width: 32px; height: 32px;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" viewBox="0 0 16 16">
                                    <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z" />
                                </svg>
                            </div>
                        </div>
                    </div>

                </label>
                <input id="imageInput" type="file" name="ImageUrl" accept="image/*"
                       class="d-none" onchange="previewImage(event)">
            </div>
            <p class="text-muted mt-2 mb-0">Click the picture to upload a new photo</p>
        </div>

        <div class="position-relative overflow-hidden">
            <button type="submit" id="nextStep" class="btn btn-primary btn-lg flutter-button  w-100">Regester</button>
        </div>


    </form>
</div>

<div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content bg-black text-light" style="border-radius:20px;">
            <div class="modal-header border-0" >
                <button type="button" class="btn-close btn-close-white " style="margin:0!important;" data-bs-dismiss="modal" aria-label="Close"></button>
                <h5 class="modal-title text-center " >Crop image</h5>
                <div></div>
            </div>
            <div class="modal-body d-flex flex-column align-items-center">
                <div class="cropper-container">
                    <img id="cropImage" src="" class="w-100 h-100 object-fit-contain">
                    <div class="cropper-overlay"></div>
                </div>
                <button class="btn btn-outline-light mt-3 rounded-pill px-4 py-2" onclick="document.getElementById('imageInput').click()">
                    <i class="bi bi-arrow-repeat me-2"></i> تغيير الصورة
                </button>
            </div>
            <div class="modal-footer border-0">
                <button type="button" class="btn btn-outline-light rounded-pill px-4" data-bs-dismiss="modal">إلغاء</button>
                <button type="button" class="btn btn-primary rounded-pill px-4" onclick="saveCroppedImage()">التالي</button>
            </div>
        </div>
    </div>
</div>



<!-- Cropper.js -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
<script src="~/js/setpicture.js"></script>


